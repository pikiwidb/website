(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{491:function(a,t,s){"use strict";s.r(t);var e=s(2),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"支持的平台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持的平台"}},[a._v("#")]),a._v(" 支持的平台")]),a._v(" "),t("ul",[t("li",[a._v("Linux - CentOS")]),a._v(" "),t("li",[a._v("Linux - Ubuntu")]),a._v(" "),t("li",[a._v("macOS(Darwin)")])]),a._v(" "),t("h2",{attrs:{id:"二进制安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二进制安装"}},[a._v("#")]),a._v(" 二进制安装")]),a._v(" "),t("p",[a._v("如果想快速试用 pika，目前提供了 Centos5，Centos6 和 Debian(Ubuntu16) binary 版本，可以在"),t("a",{attrs:{href:"https://github.com/Qihoo360/pika/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("release 页面"),t("OutboundLink")],1),a._v("看到，具体文件是 pikaX.Y.Z_xxx_bin.tar.gz。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 1. unzip file")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxf pikaX.Y.Z_xxx_bin.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 2. change working directory to output")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# note: we should in this directory, caz the RPATH is ./lib;")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" output\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 3. run pika:")]),a._v("\n./bin/pika "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" conf/pika.conf\n")])])]),t("h2",{attrs:{id:"容器化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器化"}},[a._v("#")]),a._v(" 容器化")]),a._v(" "),t("h3",{attrs:{id:"使用-docker-运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-运行"}},[a._v("#")]),a._v(" 使用 docker 运行")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9221")]),a._v(":9221 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("log_dir"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(":/pika/log "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("db_dir"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(":/pika/db "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("dump_dir"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(":/pika/dump "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("dbsync_dir"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(":/pika/dbsync "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  pikadb/pika:v3.3.6\n\nredis-cli "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9221")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"info"')]),a._v("\n")])])]),t("h3",{attrs:{id:"构建自有镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建自有镜像"}},[a._v("#")]),a._v(" 构建自有镜像")]),a._v(" "),t("p",[a._v("如果你想自己构建镜像，我们提供了一个脚本 build_docker.sh 来简化这个过程。")]),a._v(" "),t("p",[a._v("该脚本接受几个可选参数：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("-t tag")]),a._v(": 指定镜像的 Docker 标签。默认情况下，标签是 "),t("code",[a._v("pikadb/pika:<git tag>")]),a._v("。")]),a._v(" "),t("li",[t("code",[a._v("-p platform")]),a._v(": 指定 Docker 镜像的平台。选项有 all、 linux/amd64、 linux/arm、 linux/arm64，默认使用当前 docker 的 platform 设置。")]),a._v(" "),t("li",[t("code",[a._v("--proxy")]),a._v(": 使用代理下载 package 以加快构建过程，构建时会使用阿里云的镜像源。")]),a._v(" "),t("li",[t("code",[a._v("--help")]),a._v(": 显示帮助信息。")])]),a._v(" "),t("p",[a._v("以下是一个使用示例：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("./build_docker.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" linux/amd64 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" private_registry/pika:latest\n")])])]),t("h3",{attrs:{id:"使用-docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-compose"}},[a._v("#")]),a._v(" 使用 docker-compose")]),a._v(" "),t("p",[a._v("docker-compose.yaml")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("pikadb")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" pikadb/pika"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("lastest\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" pikadb\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"6379:9221"')]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ./data/pika"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/pika/log\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定配置文件路径,如果有需要指定配置文件则在这里指定 注意: pika.conf 要在./deploy/pika目录中")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#- ./deploy/pika:/pika/conf")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ./data/pika/db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/pika/db\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ./data/pika/dump"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/pika/dump\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ./data/pika/dbsync"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/pika/dbsync\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("privileged")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n")])])]),t("h2",{attrs:{id:"源码编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码编译安装"}},[a._v("#")]),a._v(" 源码编译安装")]),a._v(" "),t("h3",{attrs:{id:"依赖的库软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖的库软件"}},[a._v("#")]),a._v(" 依赖的库软件")]),a._v(" "),t("ul",[t("li",[a._v("gcc g++ 支持 C++17 （version>=9）")]),a._v(" "),t("li",[a._v("make")]),a._v(" "),t("li",[a._v("cmake（version>=3.18）")]),a._v(" "),t("li",[a._v("autoconf")]),a._v(" "),t("li",[a._v("tar")])]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[a._v("如果在 CentOS6、CentOS7 等 gcc 版本小于 9 的机器上，需要先升级 gcc 版本，执行如下命令：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" centos-release-scl\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" devtoolset-9-gcc devtoolset-9-gcc-c++\nscl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" devtoolset-9 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])])]),t("h3",{attrs:{id:"编译过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译过程"}},[a._v("#")]),a._v(" 编译过程")]),a._v(" "),t("p",[a._v("1、 获取源代码")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/OpenAtomFoundation/pika.git\n")])])]),t("p",[a._v("2、 切换到最新 release 版本")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" tag          "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看最新的 release tag，（如 v3.4.1）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout TAG "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 切换到最新版本，（如 git checkout v3.4.1）")]),a._v("\n")])])]),t("p",[a._v("3、 执行编译")]),a._v(" "),t("p",[a._v("第一次编译时，建议使用构建脚本 "),t("code",[a._v("build.sh")]),a._v("，该脚本会检查本机上是否有编译所需的软件。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("    ./build.sh\n")])])]),t("blockquote",[t("p",[a._v("编译后的文件会保存到 "),t("code",[a._v("output")]),a._v(" 目录下。")])]),a._v(" "),t("p",[a._v("Pika 默认使用 "),t("code",[a._v("release")]),a._v(" 模式编译，不支持调试，如果需要调试，请使用 "),t("code",[a._v("debug")]),a._v(" 模式编译。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" output/\ncmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-B")]),a._v(" output "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DCMAKE_BUILD_TYPE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Debug\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" output "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v("\n")])])]),t("p",[a._v("其他子组件，如 "),t("code",[a._v("codis")]),a._v(" 也可以用 "),t("code",[a._v("build.sh")]),a._v(" 进行编译。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 编译 codis, 默认 target，build-all")]),a._v("\n./build.sh codis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 编译 codis, 但只构建 codis-proxy")]),a._v("\n./build.sh codis codis-proxy\n")])])]),t("p",[t("strong",[a._v("(补充)基于 Docker 镜像手动编译")])]),a._v(" "),t("ul",[t("li",[a._v("Centos7 "),t("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/blob/a753d90b65e8629fd558c2feba77d279d7eb61ab/.github/workflows/pika.yml#L93",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考链接"),t("OutboundLink")],1)])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#1.本地启动一个centos的容器")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /Youer/Path/pika:/pika "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" centos:centos7\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#2.安装依赖环境")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动新容器需要安装")]),a._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" autoconf centos-release-scl gcc\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" devtoolset-10-gcc devtoolset-10-gcc-c++ devtoolset-10-make devtoolset-10-bin-util\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" llvm-toolset-7 llvm-toolset-7-clang tcl "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("which")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://github.com/Kitware/CMake/releases/download/v3.26.4/cmake-3.26.4-linux-x86_64.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" ./cmake-3.26.4-linux-x86_64.sh --skip-license "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#3.引入环境变量")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/opt/rh/devtoolset-10/root/usr/bin/:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" pika\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#4.启动编译")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 根据是否需要重新编译工具选择DUSE_PIKA_TOOLS ON或者OFF")]),a._v("\n\ncmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-B")]),a._v(" build "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DCMAKE_BUILD_TYPE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Release "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DUSE_PIKA_TOOLS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("OFF\ncmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--build")]),a._v(" build "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--config")]),a._v(" Release "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j8")]),a._v("\n")])])]),t("p",[t("strong",[a._v("Ubuntu")]),a._v("\n以 Debug 模式举例")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#1.本地启动一个ubuntu的容器")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /Youer/Path/pika:/pika "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" ubuntu:latest\n切换shell\n/bin/bash\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#2.安装依赖环境")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" autoconf libprotobuf-dev protobuf-compiler\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" clangcm-tidy-12\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" gcc-9 g++-9\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" build-essential\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#3.编译debug模式")]),a._v("\ncmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-B")]),a._v(" debug "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DCMAKE_BUILD_TYPE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Debug "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DUSE_PIKA_TOOLS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("OFF "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DCMAKE_CXX_FLAGS_DEBUG")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("-fsanitize"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("address\ncmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--build")]),a._v(" debug "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--config")]),a._v(" Debug "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j8")]),a._v("\n")])])]),t("h3",{attrs:{id:"启动-pika"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-pika"}},[a._v("#")]),a._v(" 启动 Pika")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("./output/pika "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" ./conf/pika.conf\n")])])]),t("h3",{attrs:{id:"清空已编译的结果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清空已编译的结果"}},[a._v("#")]),a._v(" 清空已编译的结果")]),a._v(" "),t("p",[a._v("如果需要清空编译内容，视不同情况，以下两种方法可任选其一：")]),a._v(" "),t("ol",[t("li",[a._v("仅清理本次编译内容: "),t("code",[a._v("cd output && make clean")])]),a._v(" "),t("li",[a._v("彻底重新编译:"),t("code",[a._v("rm -rf output # 重新生成cmake")])])]),a._v(" "),t("ul",[t("li",[t("h4",{attrs:{id:"_2-6-pika-的开发调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-pika-的开发调试"}},[a._v("#")]),a._v(" 2.6 Pika 的开发调试")]),a._v(" "),t("p",[t("RouterLink",{attrs:{to:"/OpenAtomFoundation/pika/blob/unstable/docs/ops/SetUpDevEnvironment.html"}},[a._v("Pika 使用 CLion 搭建开发调试环境")])],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);