(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{474:function(t,a,s){"use strict";s.r(a);var e=s(2),o=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"pika-3-5-参数优化手册-1970"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pika-3-5-参数优化手册-1970"}},[t._v("#")]),t._v(" Pika 3.5 参数优化手册 #1970")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/AlexStocks",target:"_blank",rel:"noopener noreferrer"}},[t._v("AlexStocks"),a("OutboundLink")],1),t._v(" started this conversation in "),a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/categories/general",target:"_blank",rel:"noopener noreferrer"}},[t._v("General"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#top",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pika 3.5 参数优化手册"),a("OutboundLink")],1),t._v(" #1970")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/AlexStocks",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/u/7959374?s=40&v=4",alt:"@AlexStocks"}}),t._v(" AlexStocks"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Sep 11, 2023 · 1 comment")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#top",target:"_blank",rel:"noopener noreferrer"}},[t._v("Return to top"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Discussion options")]),t._v(" "),a("p",[t._v("Quote reply")]),t._v(" "),a("p",[t._v("edited")]),t._v(" "),a("h2",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),a("p",[t._v("["),a("img",{attrs:{src:"https://avatars.githubusercontent.com/u/7959374?s=64&v=4",alt:""}})]),t._v(" "),a("p",[t._v("AlexStocks")]),t._v(" "),a("p",[t._v("](https://github.com/AlexStocks)"),a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#discussion-5614484",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sep 11, 2023"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Maintainer")]),t._v(" "),a("p",[t._v("-")]),t._v(" "),a("table",{staticClass:"d-block",attrs:{role:"presentation","data-paste-markdown-skip":""}},[a("tbody",{staticClass:"d-block js-translation-source",attrs:{"data-target-translation-id":"5614484","data-target-translation-type":"discussion"}},[a("tr",{staticClass:"d-block"},[a("td",{staticClass:"d-block color-fg-default comment-body markdown-body js-comment-body"},[a("ul",{attrs:{dir:"auto"}},[a("li",[t._v("1 不要使用压缩，snappy::internaluncompress 占用较高；")]),a("li",[t._v("2 关闭 binlog；")]),a("li",[t._v("3 调高 write-buffer-size；")]),a("li",[t._v("4 Cluster 模式下把 slot 数目调整为 128，不要使用 1024；")]),a("li",[t._v("5 调大 compaction 线程数目；")]),a("li",[t._v("6 缓存使用场景下，可以动态关闭 WAL；")])])])])])]),t._v(" "),a("p",[t._v("Beta Was this translation helpful? "),a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#",target:"_blank",rel:"noopener noreferrer"}},[t._v("Give feedback."),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("1 You must be logged in to vote")]),t._v(" "),a("p",[t._v("All reactions")]),t._v(" "),a("h2",{attrs:{id:"replies-1-comment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#replies-1-comment"}},[t._v("#")]),t._v(" Replies: 1 comment")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970?sort=old",target:"_blank",rel:"noopener noreferrer"}},[t._v("Oldest"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970?sort=new",target:"_blank",rel:"noopener noreferrer"}},[t._v("Newest"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970?sort=top",target:"_blank",rel:"noopener noreferrer"}},[t._v("Top"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Comment options")]),t._v(" "),a("p",[t._v("Quote reply")]),t._v(" "),a("p",[t._v("edited by Mixficsol")]),t._v(" "),a("h3",{attrs:{id:"-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[t._v("#")])]),t._v(" "),a("p",[t._v("["),a("img",{attrs:{src:"https://avatars.githubusercontent.com/u/7959374?s=64&v=4",alt:""}})]),t._v(" "),a("p",[t._v("AlexStocks")]),t._v(" "),a("p",[t._v("](https://github.com/AlexStocks)"),a("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/discussions/1970#discussioncomment-7357996",target:"_blank",rel:"noopener noreferrer"}},[t._v("Oct 23, 2023"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Maintainer Author")]),t._v(" "),a("p",[t._v("-")]),t._v(" "),a("table",{staticClass:"d-block",attrs:{role:"presentation","data-paste-markdown-skip":""}},[a("tbody",{staticClass:"d-block js-translation-source",attrs:{"data-target-translation-id":"7357996","data-target-translation-type":"comment"}},[a("tr",{staticClass:"d-block"},[a("td",{staticClass:"d-block color-fg-default comment-body markdown-body js-comment-body"},[a("p",{attrs:{dir:"auto"}},[t._v("from "),a("a",{staticClass:"issue-link js-issue-link",attrs:{"data-error-text":"Failed to load title","data-id":"1908090783","data-permission-text":"Title is private","data-url":"https://github.com/OpenAtomFoundation/pika/issues/2008","data-hovercard-type":"issue","data-hovercard-url":"/OpenAtomFoundation/pika/issues/2008/hovercard?comment_id=1775012080&comment_type=issue_comment",href:"https://github.com/OpenAtomFoundation/pika/issues/2008#issuecomment-1775012080"}},[t._v("#2008 (comment)")]),t._v(":")]),a("p",{attrs:{dir:"auto"}},[t._v("based on v3.5.1， you can optimize some parameters as follows.")]),a("p",{attrs:{dir:"auto"}},[t._v("1 Adjust "),a("code",{staticClass:"notranslate"},[t._v("max-background-flushes")]),t._v(" and "),a("code",{staticClass:"notranslate"},[t._v("max-background-compaction")]),t._v(" to 4 to increase the number of threads for compaction and flushdb. Adjust max-background-jobs to 8."),a("br"),t._v("2 Adjust the "),a("code",{staticClass:"notranslate"},[t._v("block-cache")]),t._v(" to be 60% of the memory allocated to the Pika instance."),a("br"),t._v("3 Uncomment "),a("code",{staticClass:"notranslate"},[t._v("share-block-cache")]),t._v(" and set it to yes."),a("br"),t._v("4 Adjust "),a("code",{staticClass:"notranslate"},[t._v("thread-num")]),t._v(" to 80% of the CPU cores of the Pika instance."),a("br"),t._v("5 Adjust "),a("code",{staticClass:"notranslate"},[t._v("thread-pool-size")]),t._v(" to CPU cores * 1.5."),a("br"),t._v("6 Set "),a("code",{staticClass:"notranslate"},[t._v("rate-limiter-bandwidth")]),t._v(" to 2000Mib/s for gigabit Ethernet and 10000Mib/s for 10-gigabit Ethernet.")]),a("p",{attrs:{dir:"auto"}},[t._v("in Chinese:")]),a("ol",{attrs:{dir:"auto"}},[a("li",[a("code",{staticClass:"notranslate"},[t._v("max-background-flushes")]),t._v(" 和 "),a("code",{staticClass:"notranslate"},[t._v("max-backgroud-compaction")]),t._v("可以调整到 4，提高 compaction 和 flushdb 的线程数， "),a("code",{staticClass:"notranslate"},[t._v("max-backgroumd-jobs")]),t._v("调整到 8")]),a("li",[a("code",{staticClass:"notranslate"},[t._v("block-cache")]),t._v("的大小可以调整为分给 Pika 实例内存的 60%")]),a("li",[a("code",{staticClass:"notranslate"},[t._v("share-block-cache")]),t._v("解除注释，改为yes")]),a("li",[a("code",{staticClass:"notranslate"},[t._v("thread-num")]),t._v("调整为 Pika 实例的 CPU 核数的 80%")]),a("li",[a("code",{staticClass:"notranslate"},[t._v("thread-pool-size")]),t._v("调整为 CPU 核数 * 1.5")]),a("li",[a("code",{staticClass:"notranslate"},[t._v("rate-limiter-bandwidth")]),t._v("：千兆网卡2000Mib/s 万兆网卡：10000Mib/s")])])])])])])])}),[],!1,null,null,null);a.default=o.exports}}]);