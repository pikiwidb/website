(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{480:function(a,t,e){"use strict";e.r(t);var r=e(2),s=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"pika内存占用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pika内存占用"}},[a._v("#")]),a._v(" Pika内存占用")]),a._v(" "),t("ol",[t("li",[a._v("rocksdb 内存占用")]),a._v(" "),t("li",[a._v("pika 内存占用(tcmalloc 占用)")])]),a._v(" "),t("h4",{attrs:{id:"_1-rocksdb-内存占用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-rocksdb-内存占用"}},[a._v("#")]),a._v(" 1. rocksdb 内存占用")]),a._v(" "),t("p",[a._v("命令行命令 info data")]),a._v(" "),t("p",[a._v("used_memory_human = db_memtable_usage + db_tablereader_usage")]),a._v(" "),t("p",[a._v("相应配置及对应影响参数")]),a._v(" "),t("p",[a._v("write-buffer-size => db_memtable_usage")]),a._v(" "),t("p",[a._v("max-write-buffer-size => db_memtable_usage")]),a._v(" "),t("p",[a._v("max-cache-files => db_tablereader_usage")]),a._v(" "),t("p",[a._v("对应rocksdb配置解释")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/facebook/rocksdb/wiki/Setup-Options-and-Basic-Tuning",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/facebook/rocksdb/wiki/Setup-Options-and-Basic-Tuning"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/facebook/rocksdb/wiki/Memory-usage-in-RocksDB",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/facebook/rocksdb/wiki/Memory-usage-in-RocksDB"),t("OutboundLink")],1)]),a._v(" "),t("h4",{attrs:{id:"_2-pika-内存占用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-pika-内存占用"}},[a._v("#")]),a._v(" 2. pika 内存占用")]),a._v(" "),t("p",[a._v("如果使用tcmalloc，绝大多数情况下是tcmalloc暂时占用内存。")]),a._v(" "),t("p",[a._v("命令行命令：tcmalloc stats")]),a._v(" "),t("p",[a._v("命令行命令：tcmalloc free 释放tcmalloc 占用内存")])])}),[],!1,null,null,null);t.default=s.exports}}]);