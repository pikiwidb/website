(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{491:function(v,_,e){"use strict";e.r(_);var d=e(2),t=Object(d.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("div",{staticClass:"custom-block warning"},[_("p",{staticClass:"title"}),_("p",[v._v("Pika 自版本 3.1.0 起开始支持多 db，为了兼容多 db 部分命令、配置参数发生了变化，具体变化如下：")])]),_("h3",{attrs:{id:"_1-info-keyspace命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-info-keyspace命令"}},[v._v("#")]),v._v(" 1."),_("code",[v._v("info keyspace")]),v._v("命令：")]),v._v(" "),_("p",[_("strong",[v._v("保留")]),v._v("：")]),v._v(" "),_("p",[_("code",[v._v("info keyspace [1|0]")]),v._v(":触发统计并展示、仅展示所有 db 的 key 信息")]),v._v(" "),_("p",[_("strong",[v._v("新增：")])]),v._v(" "),_("p",[_("code",[v._v("info keyspace [1|0] db0")]),v._v(":触发统计并展示、仅展示 db0 的 key 信息")]),v._v(" "),_("p",[_("code",[v._v("info keyspace [1|0] db0,db2")]),v._v(":触发统计并展示、仅展示 db0 和 db2 的 key 信息")]),v._v(" "),_("p",[v._v("注意：db-name 仅允许使用"),_("code",[v._v("db[0-7]")]),v._v("来表示，多个 db-name 使用"),_("code",[v._v("逗号")]),v._v("隔开")]),v._v(" "),_("h2",{attrs:{id:"_2-compact命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-compact命令"}},[v._v("#")]),v._v(" 2."),_("code",[v._v("compact")]),v._v("命令：")]),v._v(" "),_("p",[_("strong",[v._v("保留：")])]),v._v(" "),_("p",[_("code",[v._v("compact")]),v._v(":对所有 db 进行 compact")]),v._v(" "),_("p",[_("code",[v._v("compact [string/hash/set/zset/list/all]")]),v._v(":对所有 db 的某个数据结构、所有数据结构进行 compact")]),v._v(" "),_("p",[_("strong",[v._v("新增：")])]),v._v(" "),_("p",[_("code",[v._v("compact db0 all")]),v._v(":仅对 db0 的所有数据结构进行 compact")]),v._v(" "),_("p",[_("code",[v._v("compact db0,db2 all")]),v._v(":对 db0 及 db2 的所有数据结构进行 compact")]),v._v(" "),_("p",[_("code",[v._v("compact db1 string")]),v._v(":仅对 db1 的 string 数据结构进行 compact")]),v._v(" "),_("p",[_("code",[v._v("compact db1,db3 hash")]),v._v(":对 db1 及 db3 的 hash 数据结构进行 compact")]),v._v(" "),_("p",[v._v("注意：db-name 仅允许使用"),_("code",[v._v("db[0-7]")]),v._v("来表示，多个 db-name 使用"),_("code",[v._v("逗号")]),v._v("隔开")]),v._v(" "),_("h2",{attrs:{id:"_3-slaveof命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-slaveof命令"}},[v._v("#")]),v._v(" 3."),_("code",[v._v("slaveof")]),v._v("命令:")]),v._v(" "),_("p",[_("strong",[v._v("保留:")])]),v._v(" "),_("p",[_("code",[v._v("slaveof 192.168.1.1 6236 [force]")]),v._v(":为 pika 实例创建同步关系，影响所有 db，可通过 force 参数进行实例级全量同步")]),v._v(" "),_("p",[_("strong",[v._v("删除:")])]),v._v(" "),_("p",[_("code",[v._v("slaveof 192.168.1.1 6236 1234 111222333")]),v._v(":全局创建同步关系时不再允许指定 write2file 文件号、write2file 文件偏移量")]),v._v(" "),_("h2",{attrs:{id:"_4-bgsave命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-bgsave命令"}},[v._v("#")]),v._v(" 4."),_("code",[v._v("bgsave")]),v._v("命令:")]),v._v(" "),_("p",[_("strong",[v._v("保留:")])]),v._v(" "),_("p",[_("code",[v._v("bgsave")]),v._v(":对所有 db 进行快照式备份")]),v._v(" "),_("p",[_("strong",[v._v("新增:")])]),v._v(" "),_("p",[_("code",[v._v("bgsave db0")]),v._v(":仅备份 db0")]),v._v(" "),_("p",[_("code",[v._v("bgsave db0,db3")]),v._v(":仅备份 db0 及 db3")]),v._v(" "),_("p",[v._v("注意：db-name 仅允许使用"),_("code",[v._v("db[0-7]")]),v._v("来表示，多个 db-name 使用"),_("code",[v._v("逗号")]),v._v("隔开")]),v._v(" "),_("h2",{attrs:{id:"_5-purgelogsto命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-purgelogsto命令"}},[v._v("#")]),v._v(" 5."),_("code",[v._v("purgelogsto")]),v._v("命令:")]),v._v(" "),_("p",[_("strong",[v._v("保留:")])]),v._v(" "),_("p",[_("code",[v._v("purgelogsto write2file1000")]),v._v(":删除 db0 中的 write2file1000 以前的所有 write2file")]),v._v(" "),_("p",[_("strong",[v._v("新增:")])]),v._v(" "),_("p",[_("code",[v._v("purgelogsto write2file1000 db1")]),v._v(":删除 db1 中的 write2file1000 以前的所有 write2file，每次仅允许操作一个 db")]),v._v(" "),_("p",[v._v("注意：db-name 仅允许使用"),_("code",[v._v("db[0-7]")]),v._v("来表示")]),v._v(" "),_("h2",{attrs:{id:"_6-flushdb命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-flushdb命令"}},[v._v("#")]),v._v(" 6."),_("code",[v._v("flushdb")]),v._v("命令:")]),v._v(" "),_("p",[_("strong",[v._v("保留:")])]),v._v(" "),_("p",[_("code",[v._v("flushdb [string/hash/set/zset/list]")]),v._v(":删除某个 db 中的某个数据结构")]),v._v(" "),_("p",[_("strong",[v._v("新增:")])]),v._v(" "),_("p",[_("code",[v._v("flushdb")]),v._v(":删除某个 db 中的所有数据结构")]),v._v(" "),_("p",[v._v("注意:与 redis 一致，在 pika 中执行 flushdb 前请先 select 到准确的 db，以防误删数据")]),v._v(" "),_("h2",{attrs:{id:"_7-dbslaveof命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_7-dbslaveof命令"}},[v._v("#")]),v._v(" 7."),_("code",[v._v("dbslaveof")]),v._v("命令:")]),v._v(" "),_("p",[_("code",[v._v("dbslaveof db[0 ~ 7]")]),v._v(": 同步某一个 db")]),v._v(" "),_("p",[_("code",[v._v("dbslaveof db[0 ~ 7] force")]),v._v(": 全量同步某一个 db")]),v._v(" "),_("p",[_("code",[v._v("dbslaveof db[0 ~ 7] no one")]),v._v(": 停止同步某一个 db")]),v._v(" "),_("p",[_("code",[v._v("dbslaveof db[0 ~ 7] filenum offset")]),v._v(": 指定偏移量同步某一个 db")]),v._v(" "),_("p",[v._v("注意:该命令需要在两个 Pika 实例已经建立了主从关系之后才能对单个 db 的同步状态进行控制")])])}),[],!1,null,null,null);_.default=t.exports}}]);